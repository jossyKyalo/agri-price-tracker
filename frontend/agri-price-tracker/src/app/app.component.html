<div class="min-h-screen flex flex-col bg-base-100">
  <app-header 
    [currentPage]="currentPage" 
    (pageChange)="switchPage($event)"
    (adminRegister)="showAdminRegistration()"
    (adminLogin)="showAdminLogin()">
  </app-header>
  
  <main class="grow">
    <app-reset-password *ngIf="showResetPasswordPage"></app-reset-password>
    
    <app-home 
      *ngIf="currentPage === 'home' && !showResetPasswordPage"
      (navigateToSection)="switchToPublicPortalSection($event)"
      (navigateToPage)="switchPage(getPageFromEvent($event))">
    </app-home>
    
    <app-public-portal *ngIf="currentPage === 'public' && !showResetPasswordPage"></app-public-portal>
    
    <app-admin-dashboard *ngIf="currentPage === 'admin' && isAdmin && !showResetPasswordPage"></app-admin-dashboard>
    
    <app-admin-registration 
      *ngIf="showAdminRegModal"
      (close)="closeAdminRegistration()"
      (registered)="onAdminRegistered()">
    </app-admin-registration>
    
    <app-admin-login 
      *ngIf="showAdminLoginModal"
      (close)="closeAdminLogin()"
      (login)="onAdminLogin()">
    </app-admin-login>
  </main>
  
  <app-footer 
    (navigateToSectionEvent)="switchToPublicPortalSection($event)"
    (navigateToPageEvent)="switchPage(getPageFromEvent($event))"
    (openChatbotEvent)="openChatbot()"
    (showAdminLogin)="showAdminLogin()">
  </app-footer>
  
  <app-chatbot-widget 
    *ngIf="currentPage === 'home' || currentPage === 'public'"
    [focusOnPrices]="true">
  </app-chatbot-widget>
</div>
