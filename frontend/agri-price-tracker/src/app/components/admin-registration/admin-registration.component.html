<div class="w-full">
  <div class="mb-6">
    <h2 class="text-3xl font-black text-emerald-950 mb-2">Join the Platform</h2>
    <p class="text-emerald-900/50 text-sm font-medium">Submit your request to become a verified admin.</p>
  </div>

  <form [formGroup]="registerForm" (ngSubmit)="submitRegistration()" class="space-y-4">

    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <!-- Full Name -->
      <div class="flex flex-col gap-1">
        <label class="text-[10px] font-bold text-emerald-900 uppercase tracking-widest ml-3">Full Name</label>
        <input type="text" pInputText formControlName="fullName"
          class="w-full !rounded-full !text-black !bg-gray-50 !border-gray-200 !px-5 !py-2.5 hover:!border-emerald-300 focus:!border-emerald-500 focus:!bg-white transition-all font-bold placeholder:!text-gray-400"
          placeholder="John Doe" />
        <small *ngIf="registerForm.get('fullName')?.invalid && registerForm.get('fullName')?.touched"
          class="text-red-500 pl-3 text-xs">Required</small>
      </div>

      <!-- Email -->
      <div class="flex flex-col gap-1">
        <label class="text-[10px] font-bold text-emerald-900 uppercase tracking-widest ml-3">Email</label>
        <input type="email" pInputText formControlName="email"
          class="w-full !rounded-full !text-black !bg-gray-50 !border-gray-200 !px-5 !py-2.5 hover:!border-emerald-300 focus:!border-emerald-500 focus:!bg-white transition-all font-bold placeholder:!text-gray-400"
          placeholder="john@example.com" />
        <small *ngIf="registerForm.get('email')?.invalid && registerForm.get('email')?.touched"
          class="text-red-500 pl-3 text-xs">Valid email required</small>
      </div>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <!-- Phone -->
      <div class="flex flex-col gap-1">
        <label class="text-[10px] font-bold text-emerald-900 uppercase tracking-widest ml-3">Phone</label>
        <input type="text" pInputText formControlName="phone"
          class="w-full !rounded-full !text-black !bg-gray-50 !border-gray-200 !px-5 !py-2.5 hover:!border-emerald-300 focus:!border-emerald-500 focus:!bg-white transition-all font-bold placeholder:!text-gray-400"
          placeholder="+254..." />
        <small *ngIf="registerForm.get('phone')?.invalid && registerForm.get('phone')?.touched"
          class="text-red-500 pl-3 text-xs">Required</small>
      </div>
      <!-- Region -->
      <div class="flex flex-col gap-1">
        <label class="text-[10px] font-bold text-emerald-900 uppercase tracking-widest ml-3">Region</label>
        <input type="text" pInputText formControlName="region"
          class="w-full !rounded-full !text-black !bg-gray-50 !border-gray-200 !px-5 !py-2.5 hover:!border-emerald-300 focus:!border-emerald-500 focus:!bg-white transition-all font-bold placeholder:!text-gray-400"
          placeholder="Nairobi" />
        <small *ngIf="registerForm.get('region')?.invalid && registerForm.get('region')?.touched"
          class="text-red-500 pl-3 text-xs">Required</small>
      </div>
    </div>

    <div class="flex flex-col gap-1">
      <label class="text-[10px] font-bold text-emerald-900 uppercase tracking-widest ml-3">Organization</label>
      <input type="text" pInputText formControlName="organization"
        class="w-full !rounded-full !text-black !bg-gray-50 !border-gray-200 !px-5 !py-2.5 hover:!border-emerald-300 focus:!border-emerald-500 focus:!bg-white transition-all font-bold placeholder:!text-gray-400"
        placeholder="Cooperative / Company Name" />
      <small *ngIf="registerForm.get('organization')?.invalid && registerForm.get('organization')?.touched"
        class="text-red-500 pl-3 text-xs">Required</small>
    </div>

    <div class="flex flex-col gap-1">
      <label class="text-[10px] font-bold text-emerald-900 uppercase tracking-widest ml-3">Reason for Request</label>
      <textarea pInputTextarea formControlName="reason" rows="2"
        class="w-full !rounded-[2rem] !text-black !bg-gray-50 !border-gray-200 !px-5 !py-3 hover:!border-emerald-300 focus:!border-emerald-500 focus:!bg-white transition-all font-bold resize-none placeholder:!text-gray-400"
        placeholder="Briefly describe why you need admin access..."></textarea>
      <small *ngIf="registerForm.get('reason')?.invalid && registerForm.get('reason')?.touched"
        class="text-red-500 pl-3 text-xs">Required</small>
    </div>

    <div class="pt-2">
      <p-message severity="error" *ngIf="errorMessage" [text]="errorMessage"
        styleClass="w-full mb-4 rounded-xl"></p-message>

      <button type="submit" [disabled]="registerForm.invalid || loading"
        class="w-full bg-emerald-950 text-white font-bold text-lg py-4 rounded-full hover:bg-emerald-900 active:scale-95 transition-all shadow-xl shadow-emerald-900/30 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-3">
        <span *ngIf="!loading">Submit Request</span>
        <i *ngIf="!loading" class="fas fa-paper-plane"></i>
        <i *ngIf="loading" class="fas fa-circle-notch fa-spin"></i>
      </button>
    </div>

    <div class="mt-4 text-center">
      <p class="text-emerald-900/60 text-sm">
        Already have an account?
        <a routerLink="/login"
          class="text-emerald-700 font-bold hover:text-emerald-500 underline decoration-2 underline-offset-4 cursor-pointer">Login</a>
      </p>
    </div>
  </form>
</div>