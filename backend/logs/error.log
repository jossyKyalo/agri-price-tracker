{"code":"28P01","file":"auth.c","length":104,"level":"\u001b[31merror\u001b[39m","line":"324","message":"\u001b[31mDatabase connection failed: password authentication failed for user \"postgres\"\u001b[39m","name":"error","routine":"auth_failed","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at connectDatabase (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\database\\connection.ts:25:20)\n    at startServer (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\server.ts:121:5)","timestamp":"2025-10-16 00:43:36:4336"}
{"code":"28P01","file":"auth.c","length":104,"level":"\u001b[31merror\u001b[39m","line":"324","message":"\u001b[31mDatabase connection failed: password authentication failed for user \"postgres\"\u001b[39m","name":"error","routine":"auth_failed","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at connectDatabase (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\database\\connection.ts:25:20)\n    at startServer (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\server.ts:121:5)","timestamp":"2025-10-16 00:47:05:475"}
{"code":"28P01","file":"auth.c","length":104,"level":"\u001b[31merror\u001b[39m","line":"324","message":"\u001b[31mDatabase connection failed: password authentication failed for user \"postgres\"\u001b[39m","name":"error","routine":"auth_failed","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at connectDatabase (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\database\\connection.ts:25:20)\n    at startServer (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\server.ts:121:5)","timestamp":"2025-10-16 00:54:33:5433"}
{"code":"28P01","file":"auth.c","length":104,"level":"\u001b[31merror\u001b[39m","line":"324","message":"\u001b[31mDatabase connection failed: password authentication failed for user \"postgres\"\u001b[39m","name":"error","routine":"auth_failed","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at connectDatabase (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\database\\connection.ts:25:20)\n    at startServer (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\server.ts:121:5)","timestamp":"2025-10-16 00:55:19:5519"}
{"code":"28P01","file":"auth.c","length":104,"level":"\u001b[31merror\u001b[39m","line":"324","message":"\u001b[31mDatabase connection failed: password authentication failed for user \"postgres\"\u001b[39m","name":"error","routine":"auth_failed","severity":"FATAL","stack":"error: password authentication failed for user \"postgres\"\n    at C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at connectDatabase (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\database\\connection.ts:25:20)\n    at startServer (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\server.ts:121:5)","timestamp":"2025-10-16 00:55:55:5555"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mDatabase connection failed: SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string\u001b[39m","stack":"Error: SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string\n    at C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at connectDatabase (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\database\\connection.ts:25:20)\n    at startServer (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\server.ts:121:5)","timestamp":"2025-10-16 00:58:58:5858"}
{"cause":{},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mQuery failed: SELECT pe.*, \u001b[39m\n\u001b[31m              c.name as crop_name,\u001b[39m\n\u001b[31m              r.name as region_name,\u001b[39m\n\u001b[31m              m.name as market_name,\u001b[39m\n\u001b[31m              u1.full_name as entered_by_name,\u001b[39m\n\u001b[31m              u2.full_name as verified_by_name\u001b[39m\n\u001b[31m       FROM price_entries pe\u001b[39m\n\u001b[31m       JOIN crops c ON pe.crop_id = c.id\u001b[39m\n\u001b[31m       JOIN regions r ON pe.region_id = r.id\u001b[39m\n\u001b[31m       LEFT JOIN markets m ON pe.market_id = m.id\u001b[39m\n\u001b[31m       LEFT JOIN users u1 ON pe.entered_by = u1.id\u001b[39m\n\u001b[31m       LEFT JOIN users u2 ON pe.verified_by = u2.id\u001b[39m\n\u001b[31m       \u001b[39m\n\u001b[31m       ORDER BY pe.entry_date DESC\u001b[39m\n\u001b[31m       LIMIT $1 OFFSET $2 Connection terminated due to connection timeout\u001b[39m","stack":"Error: Connection terminated due to connection timeout\n    at C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at query (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\database\\connection.ts:41:20)\n    at getPrices (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\controllers\\priceController.ts:63:20)","timestamp":"2025-10-18 22:54:07:547"}
{"error":"Connection terminated due to connection timeout","ip":"::1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mGET /api/v1/prices - 500 - Internal server error\u001b[39m","stack":"Error: Connection terminated due to connection timeout\n    at C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at query (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\database\\connection.ts:41:20)\n    at getPrices (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\controllers\\priceController.ts:63:20)","timestamp":"2025-10-18 22:54:07:547","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36"}
{"cause":{},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mQuery failed: SELECT * FROM crops WHERE is_active = $1 ORDER BY name ASC Connection terminated due to connection timeout\u001b[39m","stack":"Error: Connection terminated due to connection timeout\n    at C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at query (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\database\\connection.ts:41:20)\n    at <anonymous> (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\routes\\crops.ts:31:20)","timestamp":"2025-10-18 22:54:07:547"}
{"error":"Connection terminated due to connection timeout","ip":"::1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mGET /api/v1/crops - 500 - Internal server error\u001b[39m","stack":"Error: Connection terminated due to connection timeout\n    at C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at query (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\database\\connection.ts:41:20)\n    at <anonymous> (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\routes\\crops.ts:31:20)","timestamp":"2025-10-18 22:54:07:547","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36"}
{"code":"42P18","file":"postgres.c","length":124,"level":"\u001b[31merror\u001b[39m","line":"745","message":"\u001b[31mQuery failed: SELECT COUNT(*) FROM admin_requests WHERE status = $3 could not determine data type of parameter $1\u001b[39m","name":"error","routine":"pg_analyze_and_rewrite_varparams","severity":"ERROR","stack":"error: could not determine data type of parameter $1\n    at C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at query (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\database\\connection.ts:41:20)\n    at getAdminRequests (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\controllers\\adminController.ts:68:25)","timestamp":"2025-10-18 23:19:12:1912"}
{"error":"could not determine data type of parameter $1","ip":"::1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mGET /api/v1/admin/requests - 500 - Internal server error\u001b[39m","stack":"error: could not determine data type of parameter $1\n    at C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at query (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\database\\connection.ts:41:20)\n    at getAdminRequests (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\controllers\\adminController.ts:68:25)","timestamp":"2025-10-18 23:19:12:1912","user":"a5cabf82-6f8b-4d6a-8746-2e8d36c2a94f","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36"}
{"code":"42702","file":"parse_relation.c","length":115,"level":"\u001b[31merror\u001b[39m","line":"835","message":"\u001b[31mQuery failed: SELECT st.*, u.full_name as created_by_name\u001b[39m\n\u001b[31m       FROM sms_templates st\u001b[39m\n\u001b[31m       JOIN users u ON st.created_by = u.id\u001b[39m\n\u001b[31m       WHERE is_active = $1\u001b[39m\n\u001b[31m       ORDER BY st.created_at DESC column reference \"is_active\" is ambiguous\u001b[39m","name":"error","position":"131","routine":"scanRTEForColumn","severity":"ERROR","stack":"error: column reference \"is_active\" is ambiguous\n    at C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at query (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\database\\connection.ts:41:20)\n    at getSmsTemplates (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\controllers\\smsController.ts:158:20)","timestamp":"2025-10-18 23:20:31:2031"}
{"error":"column reference \"is_active\" is ambiguous","ip":"::1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mGET /api/v1/sms/templates - 500 - Internal server error\u001b[39m","stack":"error: column reference \"is_active\" is ambiguous\n    at C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at query (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\database\\connection.ts:41:20)\n    at getSmsTemplates (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\controllers\\smsController.ts:158:20)","timestamp":"2025-10-18 23:20:31:2031","user":"a5cabf82-6f8b-4d6a-8746-2e8d36c2a94f","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36"}
{"code":"42702","file":"parse_relation.c","length":115,"level":"\u001b[31merror\u001b[39m","line":"835","message":"\u001b[31mQuery failed: SELECT st.*, u.full_name as created_by_name\u001b[39m\n\u001b[31m       FROM sms_templates st\u001b[39m\n\u001b[31m       JOIN users u ON st.created_by = u.id\u001b[39m\n\u001b[31m       WHERE is_active = $1\u001b[39m\n\u001b[31m       ORDER BY st.created_at DESC column reference \"is_active\" is ambiguous\u001b[39m","name":"error","position":"131","routine":"scanRTEForColumn","severity":"ERROR","stack":"error: column reference \"is_active\" is ambiguous\n    at C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at query (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\database\\connection.ts:41:20)\n    at getSmsTemplates (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\controllers\\smsController.ts:158:20)","timestamp":"2025-10-18 23:20:44:2044"}
{"error":"column reference \"is_active\" is ambiguous","ip":"::1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mGET /api/v1/sms/templates - 500 - Internal server error\u001b[39m","stack":"error: column reference \"is_active\" is ambiguous\n    at C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at query (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\database\\connection.ts:41:20)\n    at getSmsTemplates (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\controllers\\smsController.ts:158:20)","timestamp":"2025-10-18 23:20:44:2044","user":"a5cabf82-6f8b-4d6a-8746-2e8d36c2a94f","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36"}
{"code":"42P18","file":"postgres.c","length":124,"level":"\u001b[31merror\u001b[39m","line":"745","message":"\u001b[31mQuery failed: SELECT COUNT(*) FROM admin_requests WHERE status = $3 could not determine data type of parameter $1\u001b[39m","name":"error","routine":"pg_analyze_and_rewrite_varparams","severity":"ERROR","stack":"error: could not determine data type of parameter $1\n    at C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at query (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\database\\connection.ts:41:20)\n    at getAdminRequests (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\controllers\\adminController.ts:68:25)","timestamp":"2025-10-18 23:23:29:2329"}
{"error":"could not determine data type of parameter $1","ip":"::1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mGET /api/v1/admin/requests - 500 - Internal server error\u001b[39m","stack":"error: could not determine data type of parameter $1\n    at C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at query (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\database\\connection.ts:41:20)\n    at getAdminRequests (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\controllers\\adminController.ts:68:25)","timestamp":"2025-10-18 23:23:29:2329","user":"a5cabf82-6f8b-4d6a-8746-2e8d36c2a94f","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFailed to generate Gemini AI response: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1/models/gemini-pro:generateContent: [404 Not Found] models/gemini-pro is not found for API version v1, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.\u001b[39m","stack":"Error: [404 Not Found] models/gemini-pro is not found for API version v1, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.\n    at makeRequest (file:///C:/Users/user/Desktop/4th%20year%20projects/agri-price%20tracker/backend/node_modules/@google/generative-ai/dist/index.mjs:210:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async generateContent (file:///C:/Users/user/Desktop/4th%20year%20projects/agri-price%20tracker/backend/node_modules/@google/generative-ai/dist/index.mjs:534:22)\n    at generateChatResponse (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\services\\geminiService.ts:80:20)\n    at sendMessage (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\controllers\\chatbotController.ts:55:24)","timestamp":"2025-10-18 23:28:31:2831"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFailed to generate Gemini AI response: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1/models/gemini-pro:generateContent: [404 Not Found] models/gemini-pro is not found for API version v1, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.\u001b[39m","stack":"Error: [404 Not Found] models/gemini-pro is not found for API version v1, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.\n    at makeRequest (file:///C:/Users/user/Desktop/4th%20year%20projects/agri-price%20tracker/backend/node_modules/@google/generative-ai/dist/index.mjs:210:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async generateContent (file:///C:/Users/user/Desktop/4th%20year%20projects/agri-price%20tracker/backend/node_modules/@google/generative-ai/dist/index.mjs:534:22)\n    at generateChatResponse (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\services\\geminiService.ts:80:20)\n    at sendMessage (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\controllers\\chatbotController.ts:55:24)","timestamp":"2025-10-18 23:29:00:290"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFailed to generate Gemini AI response: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1/models/gemini-pro:generateContent: [404 Not Found] models/gemini-pro is not found for API version v1, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.\u001b[39m","stack":"Error: [404 Not Found] models/gemini-pro is not found for API version v1, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.\n    at makeRequest (file:///C:/Users/user/Desktop/4th%20year%20projects/agri-price%20tracker/backend/node_modules/@google/generative-ai/dist/index.mjs:210:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async generateContent (file:///C:/Users/user/Desktop/4th%20year%20projects/agri-price%20tracker/backend/node_modules/@google/generative-ai/dist/index.mjs:534:22)\n    at generateChatResponse (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\services\\geminiService.ts:80:20)\n    at sendMessage (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\controllers\\chatbotController.ts:55:24)","timestamp":"2025-10-18 23:29:16:2916"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFailed to generate Gemini AI response: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1/models/gemini-pro:generateContent: [404 Not Found] models/gemini-pro is not found for API version v1, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.\u001b[39m","stack":"Error: [404 Not Found] models/gemini-pro is not found for API version v1, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.\n    at makeRequest (file:///C:/Users/user/Desktop/4th%20year%20projects/agri-price%20tracker/backend/node_modules/@google/generative-ai/dist/index.mjs:210:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async generateContent (file:///C:/Users/user/Desktop/4th%20year%20projects/agri-price%20tracker/backend/node_modules/@google/generative-ai/dist/index.mjs:534:22)\n    at generateChatResponse (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\services\\geminiService.ts:80:20)\n    at sendMessage (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\controllers\\chatbotController.ts:55:24)","timestamp":"2025-10-18 23:29:44:2944"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFailed to generate Gemini AI response: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1/models/gemini-pro:generateContent: [404 Not Found] models/gemini-pro is not found for API version v1, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.\u001b[39m","stack":"Error: [404 Not Found] models/gemini-pro is not found for API version v1, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.\n    at makeRequest (file:///C:/Users/user/Desktop/4th%20year%20projects/agri-price%20tracker/backend/node_modules/@google/generative-ai/dist/index.mjs:210:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async generateContent (file:///C:/Users/user/Desktop/4th%20year%20projects/agri-price%20tracker/backend/node_modules/@google/generative-ai/dist/index.mjs:534:22)\n    at generateChatResponse (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\services\\geminiService.ts:80:20)\n    at sendMessage (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\controllers\\chatbotController.ts:55:24)","timestamp":"2025-10-19 19:58:28:5828"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mFailed to generate Gemini AI response: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1/models/gemini-pro:generateContent: [404 Not Found] models/gemini-pro is not found for API version v1, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.\u001b[39m","stack":"Error: [404 Not Found] models/gemini-pro is not found for API version v1, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.\n    at makeRequest (file:///C:/Users/user/Desktop/4th%20year%20projects/agri-price%20tracker/backend/node_modules/@google/generative-ai/dist/index.mjs:210:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async generateContent (file:///C:/Users/user/Desktop/4th%20year%20projects/agri-price%20tracker/backend/node_modules/@google/generative-ai/dist/index.mjs:534:22)\n    at generateChatResponse (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\services\\geminiService.ts:80:20)\n    at sendMessage (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\controllers\\chatbotController.ts:55:24)","timestamp":"2025-10-19 19:58:50:5850"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError registering farmer: bcrypt.hash is not a function\u001b[39m","stack":"TypeError: bcrypt.hash is not a function\n    at <anonymous> (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\routes\\auth.ts:82:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-23 22:58:10:5810"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError registering farmer: jwt.sign is not a function\u001b[39m","stack":"TypeError: jwt.sign is not a function\n    at <anonymous> (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\routes\\auth.ts:111:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-10-23 23:08:15:815"}
{"code":"42703","file":"parse_relation.c","hint":"Perhaps you meant to reference the column \"pe.market_id\".","length":166,"level":"\u001b[31merror\u001b[39m","line":"3732","message":"\u001b[31mQuery failed: SELECT pe.*, \u001b[39m\n\u001b[31m              pe.market as manual_market_name,\u001b[39m\n\u001b[31m              c.name as crop_name,\u001b[39m\n\u001b[31m              r.name as region_name,\u001b[39m\n\u001b[31m              m.name as market_name,\u001b[39m\n\u001b[31m              u1.full_name as entered_by_name,\u001b[39m\n\u001b[31m              u2.full_name as verified_by_name\u001b[39m\n\u001b[31m       FROM price_entries pe\u001b[39m\n\u001b[31m       JOIN crops c ON pe.crop_id = c.id\u001b[39m\n\u001b[31m       JOIN regions r ON pe.region_id = r.id\u001b[39m\n\u001b[31m       LEFT JOIN markets m ON pe.market_id = m.id\u001b[39m\n\u001b[31m       LEFT JOIN users u1 ON pe.entered_by = u1.id\u001b[39m\n\u001b[31m       LEFT JOIN users u2 ON pe.verified_by = u2.id\u001b[39m\n\u001b[31m       \u001b[39m\n\u001b[31m       ORDER BY pe.entry_date DESC\u001b[39m\n\u001b[31m       LIMIT $1 OFFSET $2 column pe.market does not exist\u001b[39m","name":"error","position":"29","routine":"errorMissingColumn","severity":"ERROR","stack":"error: column pe.market does not exist\n    at C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at query (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\database\\connection.ts:41:20)\n    at getPrices (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\controllers\\priceController.ts:69:20)","timestamp":"2025-11-02 02:52:28:5228"}
{"error":"column pe.market does not exist","ip":"::1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mGET /api/v1/prices - 500 - Internal server error\u001b[39m","stack":"error: column pe.market does not exist\n    at C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at query (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\database\\connection.ts:41:20)\n    at getPrices (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\controllers\\priceController.ts:69:20)","timestamp":"2025-11-02 02:52:28:5228","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36"}
{"code":"42703","file":"parse_relation.c","hint":"Perhaps you meant to reference the column \"pe.market_id\".","length":166,"level":"\u001b[31merror\u001b[39m","line":"3732","message":"\u001b[31mQuery failed: SELECT pe.*, \u001b[39m\n\u001b[31m              pe.market as manual_market_name,\u001b[39m\n\u001b[31m              c.name as crop_name,\u001b[39m\n\u001b[31m              r.name as region_name,\u001b[39m\n\u001b[31m              m.name as market_name,\u001b[39m\n\u001b[31m              u1.full_name as entered_by_name,\u001b[39m\n\u001b[31m              u2.full_name as verified_by_name\u001b[39m\n\u001b[31m       FROM price_entries pe\u001b[39m\n\u001b[31m       JOIN crops c ON pe.crop_id = c.id\u001b[39m\n\u001b[31m       JOIN regions r ON pe.region_id = r.id\u001b[39m\n\u001b[31m       LEFT JOIN markets m ON pe.market_id = m.id\u001b[39m\n\u001b[31m       LEFT JOIN users u1 ON pe.entered_by = u1.id\u001b[39m\n\u001b[31m       LEFT JOIN users u2 ON pe.verified_by = u2.id\u001b[39m\n\u001b[31m       \u001b[39m\n\u001b[31m       ORDER BY pe.entry_date DESC\u001b[39m\n\u001b[31m       LIMIT $1 OFFSET $2 column pe.market does not exist\u001b[39m","name":"error","position":"29","routine":"errorMissingColumn","severity":"ERROR","stack":"error: column pe.market does not exist\n    at C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at query (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\database\\connection.ts:41:20)\n    at getPrices (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\controllers\\priceController.ts:69:20)","timestamp":"2025-11-02 02:52:28:5228"}
{"error":"column pe.market does not exist","ip":"::1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mGET /api/v1/prices - 500 - Internal server error\u001b[39m","stack":"error: column pe.market does not exist\n    at C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at query (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\database\\connection.ts:41:20)\n    at getPrices (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\controllers\\priceController.ts:69:20)","timestamp":"2025-11-02 02:52:28:5228","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36"}
{"code":"42703","file":"parse_relation.c","hint":"Perhaps you meant to reference the column \"pe.market_id\".","length":166,"level":"\u001b[31merror\u001b[39m","line":"3732","message":"\u001b[31mQuery failed: SELECT pe.*, \u001b[39m\n\u001b[31m              pe.market as manual_market_name,\u001b[39m\n\u001b[31m              c.name as crop_name,\u001b[39m\n\u001b[31m              r.name as region_name,\u001b[39m\n\u001b[31m              m.name as market_name,\u001b[39m\n\u001b[31m              u1.full_name as entered_by_name,\u001b[39m\n\u001b[31m              u2.full_name as verified_by_name\u001b[39m\n\u001b[31m       FROM price_entries pe\u001b[39m\n\u001b[31m       JOIN crops c ON pe.crop_id = c.id\u001b[39m\n\u001b[31m       JOIN regions r ON pe.region_id = r.id\u001b[39m\n\u001b[31m       LEFT JOIN markets m ON pe.market_id = m.id\u001b[39m\n\u001b[31m       LEFT JOIN users u1 ON pe.entered_by = u1.id\u001b[39m\n\u001b[31m       LEFT JOIN users u2 ON pe.verified_by = u2.id\u001b[39m\n\u001b[31m       \u001b[39m\n\u001b[31m       ORDER BY pe.entry_date DESC\u001b[39m\n\u001b[31m       LIMIT $1 OFFSET $2 column pe.market does not exist\u001b[39m","name":"error","position":"29","routine":"errorMissingColumn","severity":"ERROR","stack":"error: column pe.market does not exist\n    at C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at query (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\database\\connection.ts:41:20)\n    at getPrices (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\controllers\\priceController.ts:69:20)","timestamp":"2025-11-02 02:54:01:541"}
{"error":"column pe.market does not exist","ip":"::1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mGET /api/v1/prices - 500 - Internal server error\u001b[39m","stack":"error: column pe.market does not exist\n    at C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at query (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\database\\connection.ts:41:20)\n    at getPrices (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\controllers\\priceController.ts:69:20)","timestamp":"2025-11-02 02:54:01:541","user":"a5cabf82-6f8b-4d6a-8746-2e8d36c2a94f","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36"}
{"code":"42703","file":"parse_relation.c","hint":"Perhaps you meant to reference the column \"pe.market_id\".","length":166,"level":"\u001b[31merror\u001b[39m","line":"3732","message":"\u001b[31mQuery failed: SELECT pe.*, \u001b[39m\n\u001b[31m              pe.market as manual_market_name,\u001b[39m\n\u001b[31m              c.name as crop_name,\u001b[39m\n\u001b[31m              r.name as region_name,\u001b[39m\n\u001b[31m              m.name as market_name,\u001b[39m\n\u001b[31m              u1.full_name as entered_by_name,\u001b[39m\n\u001b[31m              u2.full_name as verified_by_name\u001b[39m\n\u001b[31m       FROM price_entries pe\u001b[39m\n\u001b[31m       JOIN crops c ON pe.crop_id = c.id\u001b[39m\n\u001b[31m       JOIN regions r ON pe.region_id = r.id\u001b[39m\n\u001b[31m       LEFT JOIN markets m ON pe.market_id = m.id\u001b[39m\n\u001b[31m       LEFT JOIN users u1 ON pe.entered_by = u1.id\u001b[39m\n\u001b[31m       LEFT JOIN users u2 ON pe.verified_by = u2.id\u001b[39m\n\u001b[31m       \u001b[39m\n\u001b[31m       ORDER BY pe.entry_date DESC\u001b[39m\n\u001b[31m       LIMIT $1 OFFSET $2 column pe.market does not exist\u001b[39m","name":"error","position":"29","routine":"errorMissingColumn","severity":"ERROR","stack":"error: column pe.market does not exist\n    at C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at query (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\database\\connection.ts:41:20)\n    at getPrices (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\controllers\\priceController.ts:69:20)","timestamp":"2025-11-02 02:54:02:542"}
{"error":"column pe.market does not exist","ip":"::1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mGET /api/v1/prices - 500 - Internal server error\u001b[39m","stack":"error: column pe.market does not exist\n    at C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at query (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\database\\connection.ts:41:20)\n    at getPrices (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\controllers\\priceController.ts:69:20)","timestamp":"2025-11-02 02:54:02:542","user":"a5cabf82-6f8b-4d6a-8746-2e8d36c2a94f","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36"}
{"code":"ECONNECTION","command":"CONN","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError sending email to kipkoechdenniskd@gmail.com: Connection closed unexpectedly\u001b[39m","stack":"Error: Connection closed unexpectedly\n    at SMTPConnection._onClose (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:863:34)\n    at SMTPConnection._onSocketClose (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:197:42)\n    at Object.onceWrapper (node:events:634:26)\n    at TLSSocket.emit (node:events:531:35)\n    at node:net:338:12\n    at Socket.done (node:_tls_wrap:657:7)\n    at Object.onceWrapper (node:events:634:26)\n    at Socket.emit (node:events:531:35)\n    at TCP.<anonymous> (node:net:338:12)","timestamp":"2025-11-07 00:55:21:5521"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during forgot password process: Failed to send email.\u001b[39m","stack":"Error: Failed to send email.\n    at sendEmail (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\services\\emailService.ts:40:15)\n    at <anonymous> (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\controllers\\authController.ts:262:7)\n    at transaction (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\database\\connection.ts:58:20)\n    at forgotPassword (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\controllers\\authController.ts:235:5)","timestamp":"2025-11-07 00:55:22:5522"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ Failed to send SMS to +254 111423809: To is invalid; \u001b[39m","stack":"Error: To is invalid; \n    at _validateParams (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\node_modules\\africastalking\\lib\\sms.js:93:29)\n    at SMS._send (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\node_modules\\africastalking\\lib\\sms.js:97:7)\n    at SMS.send (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\node_modules\\africastalking\\lib\\sms.js:188:19)\n    at sendSmsMessage (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\services\\smsService.ts:28:32)\n    at <anonymous> (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\controllers\\authController.ts:255:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at transaction (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\database\\connection.ts:58:20)\n    at forgotPassword (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\controllers\\authController.ts:232:5)","timestamp":"2025-11-07 05:09:03:93"}
{"code":"22P02","file":"enum.c","length":142,"level":"\u001b[31merror\u001b[39m","line":"133","message":"\u001b[31mQuery failed: INSERT INTO sms_logs (recipient, message, sms_type, status, error_message, sent_by)\u001b[39m\n\u001b[31m       VALUES ($1, $2, $3, $4, $5, $6)\u001b[39m\n\u001b[31m       RETURNING * invalid input value for enum sms_type: \"password_reset\"\u001b[39m","name":"error","routine":"enum_in","severity":"ERROR","stack":"error: invalid input value for enum sms_type: \"password_reset\"\n    at C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at query (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\database\\connection.ts:41:20)\n    at sendSmsMessage (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\services\\smsService.ts:54:20)\n    at <anonymous> (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\controllers\\authController.ts:255:11)\n    at transaction (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\database\\connection.ts:58:20)\n    at forgotPassword (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\controllers\\authController.ts:232:5)","timestamp":"2025-11-07 05:09:03:93","where":"unnamed portal parameter $3 = '...'"}
{"code":"22P02","file":"enum.c","length":142,"level":"\u001b[31merror\u001b[39m","line":"133","message":"\u001b[31mFAILED to send SMS for user farmer254111423809@agriprice.local. invalid input value for enum sms_type: \"password_reset\"\u001b[39m","name":"error","routine":"enum_in","severity":"ERROR","stack":"error: invalid input value for enum sms_type: \"password_reset\"\n    at C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at query (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\database\\connection.ts:41:20)\n    at sendSmsMessage (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\services\\smsService.ts:54:20)\n    at <anonymous> (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\controllers\\authController.ts:255:11)\n    at transaction (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\database\\connection.ts:58:20)\n    at forgotPassword (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\controllers\\authController.ts:232:5)","timestamp":"2025-11-07 05:09:03:93","where":"unnamed portal parameter $3 = '...'"}
{"cause":{"code":"EPROTO","errno":-4046,"syscall":"write"},"code":"EPROTO","config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"data":"username=sandbox&to=%2B254111423809&message=To+reset+your+AgriPrice+password%2C+click+this+link+%28expires+in+1+hour%29%3A+http%3A%2F%2Flocalhost%3A4200%2F%23%2Freset-password%3Ftoken%3D3c968fabe8eaa356543db5663e39aa04d1c66de8b3489c50a24d460111a34a3c%26email%3Dfarmer254111423809%40agriprice.local&from=48120&bulkSMSMode=1","env":{},"headers":{"Accept":"application/json","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"322","Content-Type":"application/x-www-form-urlencoded;charset=utf-8","User-Agent":"axios/1.12.1","apikey":"atsk_75f321ed794bcb4a69f4f2ce8ee00addf3afee4139878d8815a3c78a7f16c601b2323b0f"},"maxBodyLength":-1,"maxContentLength":-1,"method":"post","timeout":0,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"https://api.sandbox.africastalking.com/version1/messaging","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"errno":-4046,"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ Failed to send SMS to +254111423809: write EPROTO E03A0000:error:0A00010B:SSL routines:ssl3_get_record:wrong version number:c:\\ws\\deps\\openssl\\openssl\\ssl\\record\\ssl3_record.c:355:\u001b[39m\n\u001b[31m\u001b[39m","name":"Error","request":{"_currentRequest":{"_closed":false,"_contentLength":"322","_defaultKeepAlive":true,"_ended":false,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"POST /version1/messaging HTTP/1.1\r\nAccept: application/json\r\nContent-Type: application/x-www-form-urlencoded;charset=utf-8\r\napikey: atsk_75f321ed794bcb4a69f4f2ce8ee00addf3afee4139878d8815a3c78a7f16c601b2323b0f\r\nUser-Agent: axios/1.12.1\r\nContent-Length: 322\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: api.sandbox.africastalking.com\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":false,"_redirectable":"[Circular]","_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{"api.sandbox.africastalking.com:443:::::::::::::::::::::":[{"_SNICallback":null,"_closeAfterHandlingError":false,"_controlReleased":true,"_events":{"close":[null,null,null,null],"end":[null,null],"timeout":[null,null]},"_eventsCount":10,"_hadError":true,"_host":"api.sandbox.africastalking.com","_httpMessage":"[Circular]","_newSessionPending":false,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_rejectUnauthorized":true,"_requestCert":true,"_secureEstablished":false,"_securePending":false,"_server":null,"_sockname":null,"_tlsOptions":{"isServer":false,"pipe":false,"rejectUnauthorized":true,"requestCert":true,"secureContext":{"context":{}}},"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"alpnProtocol":null,"authorizationError":null,"authorized":false,"autoSelectFamilyAttemptedAddresses":["13.42.166.90:443"],"connecting":false,"encrypted":true,"parser":null,"secureConnecting":true,"servername":null,"ssl":null,"timeout":5000}]},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":false,"finished":true,"host":"api.sandbox.africastalking.com","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"POST","outputData":[],"outputSize":0,"parser":null,"path":"/version1/messaging","protocol":"https:","res":null,"reusedSocket":false,"sendDate":false,"shouldKeepAlive":true,"socket":{"_SNICallback":null,"_closeAfterHandlingError":false,"_controlReleased":true,"_events":{"close":[null,null,null,null],"end":[null,null],"timeout":[null,null]},"_eventsCount":10,"_hadError":true,"_host":"api.sandbox.africastalking.com","_httpMessage":"[Circular]","_newSessionPending":false,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_rejectUnauthorized":true,"_requestCert":true,"_secureEstablished":false,"_securePending":false,"_server":null,"_sockname":null,"_tlsOptions":{"isServer":false,"pipe":false,"rejectUnauthorized":true,"requestCert":true,"secureContext":{"context":{}}},"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"alpnProtocol":null,"authorizationError":null,"authorized":false,"autoSelectFamilyAttemptedAddresses":["13.42.166.90:443"],"connecting":false,"encrypted":true,"parser":null,"secureConnecting":true,"servername":null,"ssl":null,"timeout":5000},"strictContentLength":false,"upgradeOrConnect":false,"useChunkedEncodingByDefault":true,"writable":true},"_currentUrl":"https://api.sandbox.africastalking.com/version1/messaging","_ended":true,"_ending":true,"_events":{},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"322","Content-Type":"application/x-www-form-urlencoded;charset=utf-8","User-Agent":"axios/1.12.1","apikey":"atsk_75f321ed794bcb4a69f4f2ce8ee00addf3afee4139878d8815a3c78a7f16c601b2323b0f"},"hostname":"api.sandbox.africastalking.com","maxBodyLength":null,"maxRedirects":21,"method":"POST","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"defaultPort":80,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{"api.sandbox.africastalking.com:443:::::::::::::::::::::":[{"_SNICallback":null,"_closeAfterHandlingError":false,"_controlReleased":true,"_events":{"close":[null,null,null,null],"end":[null,null],"timeout":[null,null]},"_eventsCount":10,"_hadError":true,"_host":"api.sandbox.africastalking.com","_httpMessage":{"_closed":false,"_contentLength":"322","_defaultKeepAlive":true,"_ended":false,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"POST /version1/messaging HTTP/1.1\r\nAccept: application/json\r\nContent-Type: application/x-www-form-urlencoded;charset=utf-8\r\napikey: atsk_75f321ed794bcb4a69f4f2ce8ee00addf3afee4139878d8815a3c78a7f16c601b2323b0f\r\nUser-Agent: axios/1.12.1\r\nContent-Length: 322\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: api.sandbox.africastalking.com\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":false,"_redirectable":"[Circular]","_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":"[Circular]","chunkedEncoding":false,"destroyed":false,"finished":true,"host":"api.sandbox.africastalking.com","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"POST","outputData":[],"outputSize":0,"parser":null,"path":"/version1/messaging","protocol":"https:","res":null,"reusedSocket":false,"sendDate":false,"shouldKeepAlive":true,"socket":"[Circular]","strictContentLength":false,"upgradeOrConnect":false,"useChunkedEncodingByDefault":true,"writable":true},"_newSessionPending":false,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_rejectUnauthorized":true,"_requestCert":true,"_secureEstablished":false,"_securePending":false,"_server":null,"_sockname":null,"_tlsOptions":{"isServer":false,"pipe":false,"rejectUnauthorized":true,"requestCert":true,"secureContext":{"context":{}}},"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"alpnProtocol":null,"authorizationError":null,"authorized":false,"autoSelectFamilyAttemptedAddresses":["13.42.166.90:443"],"connecting":false,"encrypted":true,"parser":null,"secureConnecting":true,"servername":null,"ssl":null,"timeout":5000}]},"totalSocketCount":1}}},"path":"/version1/messaging","pathname":"/version1/messaging","port":"","protocol":"https:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[{"data":{"data":[117,115,101,114,110,97,109,101,61,115,97,110,100,98,111,120,38,116,111,61,37,50,66,50,53,52,49,49,49,52,50,51,56,48,57,38,109,101,115,115,97,103,101,61,84,111,43,114,101,115,101,116,43,121,111,117,114,43,65,103,114,105,80,114,105,99,101,43,112,97,115,115,119,111,114,100,37,50,67,43,99,108,105,99,107,43,116,104,105,115,43,108,105,110,107,43,37,50,56,101,120,112,105,114,101,115,43,105,110,43,49,43,104,111,117,114,37,50,57,37,51,65,43,104,116,116,112,37,51,65,37,50,70,37,50,70,108,111,99,97,108,104,111,115,116,37,51,65,52,50,48,48,37,50,70,37,50,51,37,50,70,114,101,115,101,116,45,112,97,115,115,119,111,114,100,37,51,70,116,111,107,101,110,37,51,68,51,99,57,54,56,102,97,98,101,56,101,97,97,51,53,54,53,52,51,100,98,53,54,54,51,101,51,57,97,97,48,52,100,49,99,54,54,100,101,56,98,51,52,56,57,99,53,48,97,50,52,100,52,54,48,49,49,49,97,51,52,97,51,99,37,50,54,101,109,97,105,108,37,51,68,102,97,114,109,101,114,50,53,52,49,49,49,52,50,51,56,48,57,37,52,48,97,103,114,105,112,114,105,99,101,46,108,111,99,97,108,38,102,114,111,109,61,52,56,49,50,48,38,98,117,108,107,83,77,83,77,111,100,101,61,49],"type":"Buffer"}}],"_requestBodyLength":322,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0}},"stack":"Error: write EPROTO E03A0000:error:0A00010B:SSL routines:ssl3_get_record:wrong version number:c:\\ws\\deps\\openssl\\openssl\\ssl\\record\\ssl3_record.c:355:\n\n    at Function.AxiosError.from (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\node_modules\\axios\\lib\\core\\AxiosError.js:96:14)\n    at RedirectableRequest.handleRequestError (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\node_modules\\axios\\lib\\adapters\\http.js:638:25)\n    at RedirectableRequest.emit (node:events:519:28)\n    at eventHandlers.<computed> (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\node_modules\\follow-redirects\\index.js:49:24)\n    at ClientRequest.emit (node:events:519:28)\n    at TLSSocket.socketErrorListener (node:_http_client:500:9)\n    at TLSSocket.emit (node:events:519:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)\n    at Axios.request (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\node_modules\\axios\\lib\\core\\Axios.js:45:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","syscall":"write","timestamp":"2025-11-07 18:40:35:4035"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ Failed to send SMS to +254111423809: Cannot read properties of undefined (reading 'status')\u001b[39m","stack":"TypeError: Cannot read properties of undefined (reading 'status')\n    at sendSmsMessage (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\services\\smsService.ts:36:28)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at <anonymous> (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\controllers\\authController.ts:256:11)\n    at transaction (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\database\\connection.ts:58:20)\n    at forgotPassword (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\controllers\\authController.ts:232:5)","timestamp":"2025-11-07 18:55:33:5533"}
{"code":"42601","file":"scan.l","length":91,"level":"\u001b[31merror\u001b[39m","line":"1248","message":"\u001b[31mQuery failed: INSERT INTO sms_logs (recipient, message, sms_type, status, external_id, sent_by, sent_at, cost)\u001b[39m\n\u001b[31m       VALUES ($1, $2, $3, $4, $5, $6, CURRENT_TIMESTAMP, $7)\u001b[39m\n\u001b[31m       RETURNING * syntax error at or near \" \"\u001b[39m","name":"error","position":"98","routine":"scanner_yyerror","severity":"ERROR","stack":"error: syntax error at or near \" \"\n    at C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at query (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\database\\connection.ts:41:20)\n    at sendSmsMessage (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\services\\smsService.ts:61:20)\n    at <anonymous> (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\controllers\\authController.ts:256:11)\n    at transaction (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\database\\connection.ts:58:20)\n    at forgotPassword (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\controllers\\authController.ts:232:5)","timestamp":"2025-11-07 18:59:38:5938"}
{"code":"42601","file":"scan.l","length":91,"level":"\u001b[31merror\u001b[39m","line":"1248","message":"\u001b[31m❌ Failed to send SMS to +254111423809: syntax error at or near \" \"\u001b[39m","name":"error","position":"98","routine":"scanner_yyerror","severity":"ERROR","stack":"error: syntax error at or near \" \"\n    at C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at query (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\database\\connection.ts:41:20)\n    at sendSmsMessage (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\services\\smsService.ts:61:20)\n    at <anonymous> (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\controllers\\authController.ts:256:11)\n    at transaction (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\database\\connection.ts:58:20)\n    at forgotPassword (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\controllers\\authController.ts:232:5)","timestamp":"2025-11-07 18:59:38:5938"}
{"code":"42601","file":"scan.l","length":91,"level":"\u001b[31merror\u001b[39m","line":"1248","message":"\u001b[31mQuery failed: INSERT INTO sms_logs (recipient, message, sms_type, status, error_message, sent_by)\u001b[39m\n\u001b[31m       VALUES ($1, $2, $3, $4, $5, $6)\u001b[39m\n\u001b[31m       RETURNING * syntax error at or near \" \"\u001b[39m","name":"error","position":"85","routine":"scanner_yyerror","severity":"ERROR","stack":"error: syntax error at or near \" \"\n    at C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at query (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\database\\connection.ts:41:20)\n    at sendSmsMessage (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\services\\smsService.ts:76:20)\n    at <anonymous> (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\controllers\\authController.ts:256:11)\n    at transaction (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\database\\connection.ts:58:20)\n    at forgotPassword (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\controllers\\authController.ts:232:5)","timestamp":"2025-11-07 18:59:38:5938"}
{"code":"42601","file":"scan.l","length":91,"level":"\u001b[31merror\u001b[39m","line":"1248","message":"\u001b[31mFAILED to send SMS for user farmer254111423809@agriprice.local. syntax error at or near \" \"\u001b[39m","name":"error","position":"85","routine":"scanner_yyerror","severity":"ERROR","stack":"error: syntax error at or near \" \"\n    at C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at query (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\database\\connection.ts:41:20)\n    at sendSmsMessage (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\services\\smsService.ts:76:20)\n    at <anonymous> (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\controllers\\authController.ts:256:11)\n    at transaction (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\database\\connection.ts:58:20)\n    at forgotPassword (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\controllers\\authController.ts:232:5)","timestamp":"2025-11-07 18:59:38:5938"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ Failed to send SMS to +254111423809: Africa's Talking response did not include recipient data.\u001b[39m","stack":"Error: Africa's Talking response did not include recipient data.\n    at sendSmsMessage (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\services\\smsService.ts:33:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at <anonymous> (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\controllers\\authController.ts:256:11)\n    at transaction (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\database\\connection.ts:58:20)\n    at forgotPassword (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\controllers\\authController.ts:232:5)","timestamp":"2025-11-07 19:17:39:1739"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ Failed to send SMS to +254111423809: Africa's Talking response did not include recipient data.\u001b[39m","stack":"Error: Africa's Talking response did not include recipient data.\n    at sendSmsMessage (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\services\\smsService.ts:33:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at <anonymous> (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\controllers\\authController.ts:256:11)\n    at transaction (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\database\\connection.ts:58:20)\n    at forgotPassword (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\controllers\\authController.ts:232:5)","timestamp":"2025-11-07 19:21:23:2123"}
{"cause":{},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mQuery failed: SELECT * FROM regions WHERE is_active = $1 ORDER BY name ASC Connection terminated due to connection timeout\u001b[39m","stack":"Error: Connection terminated due to connection timeout\n    at C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at query (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\database\\connection.ts:41:20)\n    at <anonymous> (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\routes\\region.ts:24:24)","timestamp":"2025-11-09 21:53:10:5310"}
{"error":"Connection terminated due to connection timeout","ip":"::1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mGET /api/v1/regions - 500 - Internal server error\u001b[39m","stack":"Error: Connection terminated due to connection timeout\n    at C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at query (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\database\\connection.ts:41:20)\n    at <anonymous> (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\routes\\region.ts:24:24)","timestamp":"2025-11-09 21:53:10:5310","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36"}
{"cause":{},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mQuery failed: SELECT pe.*, \u001b[39m\n\u001b[31m              c.name as crop_name,\u001b[39m\n\u001b[31m              r.name as region_name,\u001b[39m\n\u001b[31m              m.name as market_name,\u001b[39m\n\u001b[31m              u1.full_name as entered_by_name,\u001b[39m\n\u001b[31m              u2.full_name as verified_by_name\u001b[39m\n\u001b[31m       FROM price_entries pe\u001b[39m\n\u001b[31m       JOIN crops c ON pe.crop_id = c.id\u001b[39m\n\u001b[31m       JOIN regions r ON pe.region_id = r.id\u001b[39m\n\u001b[31m       LEFT JOIN markets m ON pe.market_id = m.id\u001b[39m\n\u001b[31m       LEFT JOIN users u1 ON pe.entered_by = u1.id\u001b[39m\n\u001b[31m       LEFT JOIN users u2 ON pe.verified_by = u2.id\u001b[39m\n\u001b[31m       \u001b[39m\n\u001b[31m       ORDER BY pe.entry_date DESC\u001b[39m\n\u001b[31m       LIMIT $1 OFFSET $2 Connection terminated due to connection timeout\u001b[39m","stack":"Error: Connection terminated due to connection timeout\n    at C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at query (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\database\\connection.ts:41:20)\n    at getPrices (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\controllers\\priceController.ts:69:20)","timestamp":"2025-11-09 21:53:10:5310"}
{"error":"Connection terminated due to connection timeout","ip":"::1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mGET /api/v1/prices - 500 - Internal server error\u001b[39m","stack":"Error: Connection terminated due to connection timeout\n    at C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at query (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\database\\connection.ts:41:20)\n    at getPrices (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\controllers\\priceController.ts:69:20)","timestamp":"2025-11-09 21:53:10:5310","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36"}
{"cause":{},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mQuery failed: SELECT * FROM crops WHERE is_active = $1 ORDER BY name ASC Connection terminated due to connection timeout\u001b[39m","stack":"Error: Connection terminated due to connection timeout\n    at C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at query (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\database\\connection.ts:41:20)\n    at <anonymous> (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\routes\\crops.ts:31:20)","timestamp":"2025-11-09 21:53:10:5310"}
{"error":"Connection terminated due to connection timeout","ip":"::1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mGET /api/v1/crops - 500 - Internal server error\u001b[39m","stack":"Error: Connection terminated due to connection timeout\n    at C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at query (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\database\\connection.ts:41:20)\n    at <anonymous> (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\routes\\crops.ts:31:20)","timestamp":"2025-11-09 21:53:10:5310","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36"}
{"cause":{},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mQuery failed: SELECT id, email, password_hash, full_name, phone, role, region, organization, \u001b[39m\n\u001b[31m              is_active, email_verified, last_login, created_at, updated_at\u001b[39m\n\u001b[31m       FROM users WHERE email = $1 Connection terminated due to connection timeout\u001b[39m","stack":"Error: Connection terminated due to connection timeout\n    at C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at query (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\database\\connection.ts:41:20)\n    at login (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\controllers\\authController.ts:62:20)","timestamp":"2025-11-17 01:49:40:4940"}
{"error":"Connection terminated due to connection timeout","ip":"::1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mPOST /api/v1/auth/login - 500 - Internal server error\u001b[39m","stack":"Error: Connection terminated due to connection timeout\n    at C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at query (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\database\\connection.ts:41:20)\n    at login (C:\\Users\\user\\Desktop\\4th year projects\\agri-price tracker\\backend\\src\\controllers\\authController.ts:62:20)","timestamp":"2025-11-17 01:49:40:4940","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36"}
